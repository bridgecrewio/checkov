AWSTemplateFormatVersion: 2010-09-09
Description: transfer server

Resources:
  TransferServer0:
    Type: AWS::Transfer::Server
    Properties:
      EndpointType: PUBLIC
      Domain: S3
      SecurityPolicyName: "TransferSecurityPolicy-2020-06"
      IdentityProviderDetails:
        InvocationRole:
          Fn::GetAtt: TransferIdentityProviderRole.Arn
        Url:
          Fn::Join:
            - ''
            - - https://
              - Ref: CustomIdentityProviderApi
              - .execute-api.
              - Ref: AWS::Region
              - .amazonaws.com/
              - Ref: ApiStage
      IdentityProviderType: API_GATEWAY
      LoggingRole:
        Fn::GetAtt: CloudWatchLoggingRole.Arn

